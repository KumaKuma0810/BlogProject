{% extends 'base.html' %}
{% block content %}
<div class="container py-5">
    <h1 class="mb-4 text-center">Поиск по блогу</h1>

    <form method="get" class="mb-5">
      <div class="input-group input-group-lg">
        <input value="{{ query }}" type="text" class="form-control" placeholder="Введите запрос..." aria-label="Поиск" name="q">
        <button class="btn btn-primary" type="submit">Найти</button>
      </div>
    </form>

    {% if query %}
    <div class="search-results">
        <h5 class="mb-3">Результаты:</h5>
        {% if results %}
        <!-- Заглушки результатов -->
        <div class="list-group">
            {% for post in results %}
            <a href="{{ post.get_absolute_url }}" class="list-group-item list-group-item-action">
                    <h6 class="mb-1">{{ post.title }}</h6>
                    <p class="mb-1 text-muted">{{ post.body | truncatewords:10 }}</p>
                    <small>{{ post.created_at }}</small>
            </a>
            {% endfor %}
        </div>
        {% else %}
        <p>Ничего не найдено. </p>
        {% endif %}
    {% endif %}
    </div>
</div>
{% endblock %}